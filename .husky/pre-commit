#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Display commit guidelines
echo "=== Commit Guidelines ==="
echo "1. Use \`feat:\` for new features"
echo "2. Use \`fix:\` for bug fixes"
echo "3. Use \`docs:\` for documentation changes"
echo "4. Use \`style:\` for formatting changes"
echo "5. Use \`refactor:\` for code refactoring"
echo "6. Use \`test:\` for test-related changes"
echo "7. Use \`chore:\` for maintenance tasks"
echo "========================="

# Run linting and formatting
npm run lint && npm run format

# Check if linting and formatting succeeded
if [ $? -ne 0 ]; then
  echo "Linting or formatting failed. Commit aborted."
  exit 1
fi

# Optional: Add a confirmation step
read -p "Do you want to proceed with the commit? (y/n): " confirm
if [ "$confirm" != "y" ]; then
  echo "Commit aborted."
  exit 1
fi